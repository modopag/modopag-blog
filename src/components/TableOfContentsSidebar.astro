---
import type { TableOfContentsItem } from '@/lib/types';

interface Props {
  items: TableOfContentsItem[];
}

const { items } = Astro.props;
---

{items.length > 0 && (
  <div class="mb-8">
    <details class="group bg-white rounded-xl border border-secondary-100 overflow-hidden shadow-sm">
      <summary class="flex items-center justify-between p-4 cursor-pointer list-none hover:bg-secondary-50 transition-colors">
        <span class="font-semibold text-secondary-500">
          √çndice do artigo
        </span>
        <svg
          class="w-5 h-5 text-secondary-400 transition-transform group-open:rotate-180"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </summary>
      <nav class="px-4 pb-4 border-t border-secondary-100">
        <ul class="space-y-1 pt-3">
          {items.map((item) => (
            <li>
              <a
                href={`#${item.id}`}
                class="block text-sm py-2 px-3 rounded-lg text-secondary-500 hover:bg-primary-50 hover:text-primary-600 transition-colors"
              >
                {item.text}
              </a>
            </li>
          ))}
        </ul>
      </nav>
    </details>
  </div>
)}
