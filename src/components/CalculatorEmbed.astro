---
interface Props {
  title?: string | null;
  description?: string | null;
  code: string;
}

const { title, description, code } = Astro.props;
---

<div class="calculator-embed my-8 p-6 bg-secondary-50 rounded-xl border border-secondary-200">
  {title && (
    <h3 class="text-xl font-bold text-secondary-500 mb-2">{title}</h3>
  )}
  {description && (
    <p class="text-secondary-400 mb-4">{description}</p>
  )}
  <div class="calculator-content" set:html={code} />
</div>

<style is:global>
  /* Calculator embed styles - ensure inherited fonts and consistent styling */
  .calculator-content input,
  .calculator-content select,
  .calculator-content button,
  .calculator-content textarea {
    font-family: inherit;
  }

  /* Basic form element styling for calculators */
  .calculator-content input[type="text"],
  .calculator-content input[type="number"],
  .calculator-content input[type="email"],
  .calculator-content select,
  .calculator-content textarea {
    @apply w-full px-4 py-2 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-colors;
  }

  .calculator-content button {
    @apply px-4 py-2 bg-primary-500 text-secondary-500 font-semibold rounded-lg hover:bg-primary-400 transition-colors cursor-pointer;
  }

  .calculator-content label {
    @apply block text-sm font-medium text-secondary-500 mb-1;
  }

  /* Result display styling */
  .calculator-content .result,
  .calculator-content [class*="result"] {
    @apply p-4 bg-white rounded-lg border border-secondary-200 mt-4;
  }
</style>
