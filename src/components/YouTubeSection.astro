---
// YouTubeSection.astro
// Secao de videos do canal modoPAG no YouTube

interface Video {
  id: string
  title: string
  duration: string
}

// TODO: Substituir pelos IDs reais dos videos do canal @modopag
// Acesse https://www.youtube.com/@modopag/videos e pegue os IDs
// O ID e a parte apos "v=" na URL: youtube.com/watch?v=ESTE_E_O_ID
const FEATURED_VIDEO_ID = "dQw4w9WgXcQ" // Video principal (embed)

const VIDEOS: Video[] = [
  { id: "dQw4w9WgXcQ", title: "Como escolher a melhor maquininha para seu negocio", duration: "5:32" },
  { id: "dQw4w9WgXcQ", title: "Taxas de maquininha: o que voce precisa saber", duration: "8:15" },
  { id: "dQw4w9WgXcQ", title: "Dicas para vender mais no cartao", duration: "4:48" },
]

const channelUrl = "https://www.youtube.com/@modopag?utm_source=blog&utm_medium=secao_videos&utm_campaign=blog_modopag"
const utmSuffix = "?utm_source=blog&utm_medium=secao_videos&utm_campaign=blog_modopag"
---

<section class="py-20 md:py-32 bg-gray-50/50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Header -->
    <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-12 reveal-up">
      <div>
        <span class="text-primary-600 text-sm font-semibold uppercase tracking-widest mb-2 block">
          Videos
        </span>
        <h2 class="text-4xl md:text-5xl font-bold text-black">
          Nosso canal no YouTube
        </h2>
      </div>
      <a
        href={channelUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="magnetic-element inline-flex items-center gap-2 px-5 py-2.5 bg-red-600 text-white text-sm font-medium rounded-full hover:bg-red-700 transition-all duration-300"
        data-no-instant
      >
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
        </svg>
        Inscrever-se
      </a>
    </div>

    <!-- Grid de videos -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

      <!-- Video Principal (embed) -->
      <div class="lg:col-span-2 reveal-up" style="animation-delay: 100ms">
        <div class="aspect-video rounded-3xl overflow-hidden bg-gray-200 shadow-2xl shadow-black/10">
          <iframe
            src={`https://www.youtube.com/embed/${FEATURED_VIDEO_ID}`}
            title="Video modoPAG"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            class="w-full h-full"
            loading="lazy"
          />
        </div>
      </div>

      <!-- Lista de Thumbnails -->
      <div class="flex flex-col gap-4 reveal-up" style="animation-delay: 200ms">
        {VIDEOS.map((video, index) => (
          <a
            href={`https://www.youtube.com/watch?v=${video.id}${utmSuffix}`}
            target="_blank"
            rel="noopener noreferrer"
            class="group flex gap-4 p-3 -mx-3 rounded-2xl hover:bg-white hover:shadow-lg hover:shadow-black/5 transition-all duration-300"
            data-no-instant
          >
            <!-- Thumbnail -->
            <div class="relative w-36 h-20 rounded-xl overflow-hidden bg-gray-200 flex-shrink-0">
              <img
                src={`https://img.youtube.com/vi/${video.id}/mqdefault.jpg`}
                alt={video.title}
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                loading="lazy"
              />
              <!-- Duracao -->
              <span class="absolute bottom-1.5 right-1.5 bg-black/80 text-white text-xs font-medium px-1.5 py-0.5 rounded">
                {video.duration}
              </span>
              <!-- Play icon overlay -->
              <div class="absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/30 transition-all duration-300">
                <div class="w-10 h-10 bg-red-600 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 scale-75 group-hover:scale-100 transition-all duration-300 shadow-lg">
                  <svg class="w-4 h-4 text-white ml-0.5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Titulo -->
            <div class="flex-1 min-w-0 py-1">
              <h3 class="text-sm font-semibold text-gray-900 line-clamp-2 group-hover:text-primary-600 transition-colors duration-300 leading-snug">
                {video.title}
              </h3>
              <p class="text-xs text-gray-500 mt-1.5 flex items-center gap-1">
                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
                modoPAG
              </p>
            </div>
          </a>
        ))}

        <!-- Link para ver mais -->
        <a
          href={channelUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center justify-center gap-2 py-4 text-sm font-semibold text-gray-600 hover:text-red-600 transition-colors duration-300 border-2 border-gray-200 rounded-2xl hover:border-red-200 hover:bg-red-50/50 mt-2"
          data-no-instant
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
          </svg>
          Ver mais no YouTube
        </a>
      </div>

    </div>
  </div>
</section>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
